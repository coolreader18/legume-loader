{"version":3,"sources":["legume.js"],"names":["window","legumeload","root","entry","curscr","parseURL","inurl","ref","URL","err","message","location","ret","url","originalUrl","split","pathname","methods","github","nv","name","version","npm","legumescript","gist","split0","id","file","hash","protocol","method","Object","assign","slice","legume","input","opts","output","urlref","cached","values","scripts","find","cur","href","Promise","resolve","require","prom","then","fetch","res","json","gistfile","files","Error","raw_url","truncated","code","content","process","dontload","r","text","cache","global","style","stlurl","document","head","appendChild","createElement","rel","scriptobj","parse","metadata","requires","styles","forEach","all","reduce","arr","scr","push","script","mod","module","exports","children","this","possargs","passargs","as","keys","includes","eval","call","Function","apply","concat","toString","inBlock","cmt","start","end","md","description","repository","author","email","license","bookmarklet","options","errors","processCmt","comment","match","trim","key","value","undefined","Array","isArray","JSON","e","console","warn","line","i","lines","test","length","obj","j","temparr","moveds","join","Legume","loadprom","getAttribute","from","querySelectorAll","textContent","src","getElementsByTagName","self","currentScript","supportsScriptReadyState","isOpera","opera","canDefineProp","defineProperty","_currentEvaluatingScript","readyState","get","Document$currentScript","configurable"],"mappings":"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"}