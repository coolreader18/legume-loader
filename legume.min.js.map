{"version":3,"sources":["legume.js"],"names":["entry","root","parseURL","inurl","ref","URL","err","message","location","ret","url","originalUrl","split","pathname","nv0","methods","github","nv","name","version","npm","legumescript","gist","id","file","hash","protocol","method","Object","assign","slice","Legume","input","opts","output","urlref","cached","values","scripts","find","cur","href","Promise","resolve","require","prom","fetch","then","res","json","gistfile","files","Error","raw_url","truncated","text","code","content","process","dontload","r","cache","global","style","stlurl","document","head","appendChild","createElement","rel","scriptobj","parse","metadata","loads","requires","styles","forEach","all","reduce","arr","scr","push","script","mod","bookmarklet","module","exports","children","legumeInfo","this","bind","possargs","passargs","as","keys","includes","eval","call","window","Function","apply","concat","toString","inBlock","cmt","start","end","md","description","repository","author","email","license","options","errors","processCmt","comment","match","trim","key","value","undefined","Array","isArray","JSON","e","console","warn","line","i","lines","test","length","obj","j","temparr","moveds","join","loadprom","getAttribute","from","querySelectorAll","processfn","textContent","currentScript"],"mappings":"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"}