{"version":3,"sources":["legume.js"],"names":["window","legumeload","root","entry","curscr","parseURL","inurl","URL","err","message","location","href","ret","url","originalUrl","split","pathname","methods","github","nv","name","version","npm","legumescript","gist","id","file","protocol","method","Object","assign","slice","legume","input","dontload","output","cached","values","scripts","find","cur","Promise","resolve","require","then","fetch","res","json","gistfile","files","Error","raw_url","truncated","code","content","process","r","text","cache","global","style","stlurl","document","head","appendChild","createElement","rel","[object Object]","scriptobj","parse","metadata","requires","styles","forEach","all","reduce","arr","scr","push","script","mod","module","exports","children","this","possargs","passargs","as","keys","includes","eval","call","Function","apply","concat","toString","inBlock","cmt","start","end","md","description","repository","author","email","license","bookmarklet","options","errors","processCmt","comment","match","trim","key","value","undefined","Array","isArray","JSON","e","console","warn","line","i","lines","test","length","obj","j","temparr","moves","join","moveds","Legume","getAttribute","querySelectorAll","textContent","src","getElementsByTagName","self","currentScript","supportsScriptReadyState","isOpera","opera","canDefineProp","defineProperty","_currentEvaluatingScript","readyState","get","Document$currentScript","configurable"],"mappings":"AAAAA,OAAOC,WAAa,SAASC,GAC3B,IAAIC,EAAQF,WAAWG,OACvB,IAAIF,EAAOD,WAAWC,YACfF,OAAOC,WACd,SAASI,EAASC,GAChB,IACEA,EAAQ,IAAIC,IAAID,GAChB,MAAOE,GACP,GAAIA,EAAIC,SAAW,yCAA0C,CAC3DH,EAAQ,IAAIC,IAAID,EAAOI,SAASC,OAGpC,IAAIC,GAAQC,IAAKP,EAAOQ,YAAaR,GACrC,IAAIS,EAAQT,EAAMU,SAASD,MAAM,KACjC,IAAIE,GACFC,OAAQ,WACN,IAAIC,EAAKJ,EAAM,GACf,OACEF,IAAK,IAAIN,IAAI,+BAAiCD,EAAMU,UACpDI,KAAMD,EAAGJ,MAAM,KAAK,GACpBM,QAASF,EAAGJ,MAAM,KAAK,IAAM,WAGjCO,IAAK,WACH,IAAIH,EAAKJ,EAAM,GACf,OACEF,IAAK,IAAIN,IAAI,gCAAkCD,EAAMU,UACrDI,KAAMD,EAAGJ,MAAM,KAAK,GACpBM,QAASF,EAAGJ,MAAM,KAAK,IAAM,SAC7BQ,aAAc,OAGlBC,KAAM,WACJ,OACEJ,KAAML,EAAM,GAAGA,MAAM,KAAK,GAC1BS,MACEC,GAAIV,EAAM,GACVW,KAAMX,EAAM,OAKpB,IAAIY,EAAWrB,EAAMqB,SAASZ,MAAM,KAAK,GACzCH,EAAIgB,OAASD,EACb,GAAIA,KAAYV,EAAS,CACvBY,OAAOC,OAAOlB,EAAKK,EAAQU,UACtB,CACLE,OAAOC,OAAOlB,GACZQ,KAAMd,EAAMU,SACTD,MAAM,KACNgB,OAAO,GAAG,GACVhB,MAAM,KAAK,KAGlB,OAAOH,EAET,IAAIoB,EAASH,OAAOC,OAClB,SAASE,EAAOC,EAAOC,GACrB,IAAIC,KACJN,OAAOC,OAAOK,EAAQ9B,EAAS4B,IAC/B,IAAIG,EAASP,OAAOQ,OAAOL,EAAOM,SAASC,KAAK,SAASC,GACvD,OACEA,EAAI3B,MACH2B,EAAI3B,IAAIF,MAAQwB,EAAOtB,IAAIF,MAC1B6B,EAAI1B,YAAYH,MAAQwB,EAAOrB,YAAYH,QAGjD,GAAIyB,EAAQ,CACV,OAAOK,QAAQC,QAAQC,EAAQP,EAAOhB,OAExC,OAAOqB,QAAQC,UACZE,KAAK,WACJ,GAAIT,EAAOP,QAAU,OAAQ,CAC3B,OAAOiB,MAAM,gCAAkCV,EAAOX,KAAKC,OAG9DmB,KAAK,SAASE,GACb,GAAIA,EAAK,OAAOA,EAAIC,SAErBH,KAAK,SAASE,GACb,GAAIA,EAAK,CACP,IAAIE,EAAWF,EAAIG,MAAMd,EAAOX,KAAKE,MACrC,IAAKsB,EAAU,MAAM,IAAIE,MAAM,oBAC/Bf,EAAOtB,IAAM,IAAIN,IAAIyC,EAASG,SAC9B,IAAKH,EAASI,UAAWjB,EAAOkB,KAAOL,EAASM,QAElD,OAAOtB,EAAOM,QAAQH,EAAOf,MACzBuB,EAAQR,EAAOf,MACf,SAAUe,EACRH,EAAOuB,QAAQpB,EAAQD,GACvBW,MAAMV,EAAOtB,KACV+B,KAAK,SAASY,GACb,OAAOA,EAAEC,SAEVb,KAAK,SAASS,GACblB,EAAOkB,KAAOA,EACd,OAAOrB,EAAOuB,QAAQpB,EAAQD,SAK5Cb,QAAS,MACTiB,WACAoB,SACAf,QAASA,EACTgB,QAAUhB,QAASA,GACnBiB,MAAO,SAASA,EAAMC,GACpBA,EAASxD,EAASwD,GAAQhD,IAC1BiD,SAASC,KAAKC,YACZnC,OAAOC,OAAOgC,SAASG,cAAc,SACnCC,IAAK,aACLvD,KAAMkD,MAIZM,QAAQC,EAAWlC,GACjB,UAAWkC,GAAa,SAAUA,GAAcf,KAAMe,GACtDA,EAAYC,EAAMD,GAClBA,EAAUhD,KAAOgD,EAAUhD,MAAQgD,EAAUE,SAASlD,KACtD,GAAIY,EAAOM,QAAQ8B,EAAUhD,MAC3B,IAAKc,EAAU,CACb,OAAOS,EAAQyB,EAAUhD,WACpB,OACTY,EAAOM,QAAQ8B,EAAUhD,MAAQgD,EACjC,IAAIxD,EAAM6B,QAAQC,UAChB6B,EAAWH,EAAUG,SACvB,GAAIA,EAASC,OAAQD,EAASC,OAAOC,QAAQzC,EAAO4B,OACpD,GAAIW,EAASjC,QACX1B,EAAMA,EAAIgC,KAAK,WACb,OAAOH,QAAQiC,IACbH,EAASjC,QAAQqC,OAAO,SAASC,EAAKC,GACpCD,EAAIE,KAAK9C,EAAO6C,EAAIE,OAAQ,OAC5B,OAAOH,UAIf,OAAOhE,EAAIgC,KAAK,WACd,IAAKV,EAAUS,EAAQyB,EAAUhD,WAKzCY,EAAO2B,OAAOA,OAAS3B,EAAO2B,OAC9B,SAAShB,EAAQqC,GACfA,EAAMhD,EAAOM,QAAQ0C,GACrB,GAAIA,EAAK,CACP,GAAIhD,EAAO0B,MAAMsB,EAAI5D,MAAO,OAAOY,EAAO0B,MAAMsB,EAAI5D,MACpD,IAAI6D,GACFC,WACAC,YACAxC,QAAS,SAASA,EAAQqC,GACxBI,KAAKD,SAASH,GAAOhD,EAAOM,QAAQ0C,GACpC,OAAOrC,EAAQqC,KAGnB,IAAIK,GACFJ,OAAQA,EACRtC,QAASsC,EAAOtC,QAChBuC,QAASD,EAAOC,SAElB,IAAII,GAAY,SAAU,WAC1B,IAAIf,EAAWS,EAAIT,SACnB,GAAIA,EAASjC,QAAS,CACpBiC,EAASjC,QAAQmC,QAAQ,SAASjC,GAChC,GAAIA,EAAI+C,KAAO1D,OAAO2D,KAAKH,GAAUI,SAASjD,EAAI+C,IAAK,CACrDF,EAAS7C,EAAI+C,IAAM5C,EAAQtC,EAASmC,EAAIuC,QAAQ3D,MAChDkE,EAASR,KAAKtC,EAAI+C,OAIxB,IAAIlC,EAAO2B,EAAI3B,MAAQ2B,EAAInE,IAAM,mBAAqBmE,EAAInE,IAAM,IAChE,GAAImE,EAAIzD,aAAc,CACpBmE,KACGC,KACC3F,OACA,uBACE4F,SAASC,MAAM,KAAMP,EAASQ,QAAQzC,KAAQ0C,WAC9C,KAEHF,MACC7D,EAAO2B,OACP2B,EAASX,OAAO,SAASC,EAAKpC,GAC5BoC,EAAIE,KAAKO,EAAS7C,IAClB,OAAOoC,QAGb5C,EAAO0B,MAAMsB,EAAI5D,MAAQiE,EAASJ,OAAOC,QACzC,OAAOG,EAASJ,OAAOC,YAClB,CACL,OAAOQ,KAAKC,KAAK3F,OAAQqD,KAI/B,SAASgB,EAAMU,GACb,IAAIiB,EAAU,MACZC,GACEC,MAAO,2BACPC,IAAK,YAEPC,GACEhF,KAAM,GACNC,QAAS,GACTgF,YAAa,GACbC,WAAY,GACZC,UACAC,MAAO,GACP3F,IAAK,GACL4F,QAAS,GACTC,YAAa,MACb/D,WACAiB,UAEF+C,KACAtD,KACAuD,KACAC,EAAa,SAASC,GACpB,IAAIC,EAAQD,EAAQE,OAAOD,MAAM,0BACjC,GAAIA,EAAO,CACT,IAAIE,EAAMF,EAAM,GACdG,EAAQH,EAAM,GAChB,GAAIE,IAAQE,UAAW,CACrB,GAAIC,MAAMC,QAAQjB,EAAGa,IAAO,CAC1BN,EAAQM,GAAON,EAAQM,OACvBN,EAAQM,GAAKnC,KAAKoC,QACb,UAAWd,EAAGa,IAAQ,UAAW,CACtC,IACEN,EAAQM,GAAOK,KAAKjD,MAAM6C,GAC1B,MAAOK,GACPZ,EAAQM,GAAO,UAEZ,CACLN,EAAQM,GAAOC,OAEZ,CACLM,QAAQC,KAAK,sCAAwCR,EAAM,SAInElC,EAAO1B,KAAK0D,MAAM,aAAatC,QAAQ,SAASiD,EAAMC,EAAGC,GACvD,GAAI3B,EAAIE,IAAI0B,KAAKH,IAAS1B,EAAS,CACjCA,EAAU,WACL,GAAIA,EAAS,CAClBa,EAAWa,QACN,GAAIzB,EAAIC,MAAM2B,KAAKH,GAAO,CAC/B1B,EAAU,KACVjB,EAAOxD,aAAe,SACjB,CACL8B,EAAKyB,KAAK4C,GAEZ,GAAI1B,GAAW2B,EAAI,GAAKC,EAAME,OAAQ,CACpClB,EAAO9B,KAAK,oCAGhB,IAAIP,GACFjC,QAASqE,EAAQhE,QACjB6B,OAAQmC,EAAQ/C,cAEX+C,EAAQ5B,cACR4B,EAAQ/C,MACf,GAAIW,EAASjC,QACXiC,EAASjC,QAAQmC,QAAQ,SAASjC,EAAKmF,GACrC,IAAI/C,EAAMpC,EAAIzB,MAAM,KACpB,IAAIgH,KACJ,IAAK,IAAIC,EAAI,EAAGA,EAAIpD,EAAIkD,OAAQE,GAAK,EAAG,CACtC,IAAIC,EAAUrD,EAAI7C,MAAMiG,EAAGA,EAAI,GAC/BD,EAAIE,EAAQ,IAAMA,EAAQ,GAE5B1D,EAASjC,QAAQqF,IAAO5C,OAAQH,EAAI,GAAIW,GAAIwC,EAAIxC,IAAM,QAE1D,IAAI2C,GAAS,eAAevD,OAAO,SAASoD,EAAKvF,GAC/CuF,EAAIvF,GAAO4D,EAAG5D,UACP4D,EAAG5D,GACV,OAAOuF,OAET,OAAOlG,OAAOC,QAEVwC,SAAUqC,EACVtD,KAAMA,EAAK8E,KAAK,MAChBvB,OAAQA,EAAOkB,OAASlB,EAAS,KACjCrC,SAAAA,GAEF6D,OACArD,GAGJ7E,EAAKmI,OAASrG,EACd,GAAI7B,EACF,GAAIA,EAAMmI,aAAa,qBACrBtG,EAAO7B,EAAMmI,aAAa,sBAC9BxE,SACGyE,iBAAiB,8BACjB9D,QAAQ,SAASjC,GAChBR,EAAOuB,QAAQf,EAAIgG,iBAGzB,WACE,IAAI3H,EACF,+IACF,IAAIkE,EAASjB,SAASG,cAAc,UACpCc,EAAO0D,IAAM5H,EACbiD,SAAS4E,qBAAqB,QAAQ,GAAG1E,YAAYe,GACrD9E,WAAWC,YAAcyI,MAAQ,YAAc3I,OAAS2I,KACxD1I,WAAWG,OACT0D,SAAS8E,eACT,WACE,IAAIC,EACA,eAAgB/E,SAASG,cAAc,UACzC6E,EAAU1D,KAAK2D,OAAS3D,KAAK2D,MAAMhD,aAAe,iBAClDiD,SAAuBnH,OAAOoH,iBAAmB,WACjDC,EAA2B,WACzB,IAAI5G,EAAUwB,SAAS4E,qBAAqB,UAC5C,IAAK,IAAIf,EAAIrF,EAAQwF,OAAQxF,IAAUqF,IAAM,CAC3C,GAAIrF,EAAQqF,GAAGwB,aAAe,cAAe,CAC3C,OAAO7G,EAAQqF,IAGnB,OAAO,MAEX,IAAKkB,EAA0B,CAC7B,MAAM,IAAI3F,MACR,+NAGJ,GAAI4F,EAAS,CACX,MAAM,IAAI5F,MACR,+OAGJ,IAAK8F,EAAe,CAClB,MAAM,IAAI9F,MACR,sMAGJrB,OAAOoH,eAAenF,SAAU,iBAC9BsF,IAAK,SAASC,IACZ,OAAOH,KAETI,aAAc,MAJhBzH,GA7BF,IATJ"}