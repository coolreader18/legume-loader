{"version":3,"sources":["legume.js"],"names":["window","legumeload","root","entry","curscr","parseURL","inurl","ref","URL","err","message","location","ret","url","originalUrl","split","pathname","methods","github","nv","name","version","npm","legumescript","gist","id","file","protocol","method","Object","assign","slice","legume","input","opts","output","urlref","cached","values","scripts","find","cur","href","Promise","resolve","require","prom","fetch","then","res","json","gistfile","files","Error","raw_url","truncated","code","content","process","dontload","r","text","cache","global","style","stlurl","document","head","appendChild","createElement","rel","scriptobj","parse","metadata","requires","styles","forEach","all","reduce","arr","scr","push","script","mod","module","exports","children","this","possargs","passargs","as","keys","includes","eval","call","Function","apply","concat","toString","inBlock","cmt","start","end","md","description","repository","author","email","license","bookmarklet","options","errors","processCmt","comment","match","trim","key","value","undefined","Array","isArray","JSON","e","console","warn","line","i","lines","test","length","obj","j","temparr","moveds","join","Legume","getAttribute","querySelectorAll","textContent","src","getElementsByTagName","self","currentScript","supportsScriptReadyState","isOpera","opera","canDefineProp","defineProperty","_currentEvaluatingScript","readyState","get","Document$currentScript","configurable"],"mappings":"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"}