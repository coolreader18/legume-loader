legumeload=function(){delete legumeload;function _throw(e){throw e}var entry=document.querySelector("script[src*=legume]");var AsyncFunction;try{AsyncFunction=Object.getPrototypeOf(eval("async () => {}")).constructor}catch(e){}function processurl(e){var t;try{e=new URL(e)}catch(r){if(r.message=="Failed to construct 'URL': Invalid URL"){t=e;e=new URL(e,location.href)}}var r=["github","npm"];for(var n=0;n<r.length;n++){var s=r[n];if(e.protocol==s+":"){return{fullURL:"https://cdn.jsdelivr.net/"+(s=="github"?"gh":s)+"/"+e.pathname,relURL:t}}}return{fullURL:e.href,relURL:t}}function load(e,t,r){var n=processurl(e);return fetch(n.fullURL).then(function(e){return e.ok?e[r]():_throw(new Error(t))}).then(function(e){return{res:e,url:n}}).catch(alert)}var legume={version:"dev",scripts:{},load:function e(t,r){if(typeof t=="string"){t=t.trim()}function n(e){var t=["json","text","script"];for(var r=0;r<t.length;r++){var n=t[r];if(e.startsWith(n+":")){return legume[n](e.replace(new RegExp(n+":"),"").trim())}}return legume.script(e)}if(typeof r=="string"){({script:legume.script,json:legume.json,text:legume.text,txtscript:legume.process})[r](t)}if(typeof t=="string"){return n(t)}else if(Array.isArray(t)){var s=[];t.forEach(function(e){s.push(n(e))});return Promise.all(s)}},process:function e(){var t=Array.from(arguments);return Promise.resolve().then(function(){var e=parse.call(null,t[0].res,Object.assign({url:t[0].url},t[1])),r=e.metadata,n=e.code,s=new Promise(function(e){if(!r.script){e()}else{var t=r.script;n(0);function n(r){return legume.script(t[r]).then(function(){if(t.length!=r+1){n(r+1)}else{e()}})}}});if(r.style){r.style.forEach(legume.style)}["var","async","url"].forEach(function(t){e[t]=e.metadata[t];delete e.metadata[t]});var l=e.url;n+=l.fullURL?"\n//# sourceURL="+l.fullURL:"";e.var=e.var||[];e.var=e.var.reduce(function(e,t){var r=t.split(" ");e[r[0]]=r[1]||r[0];return e},{});var a={exports:{}},o=a.exports,c={module:a,exports:o};return s.then(function(){var t;if(e.legumescript&&e.metadata.name){var s=legume.scripts[r.name]=legume.scripts[r.name]||e;s.clicks=s.clicks+1||0;t=Promise.resolve().then(function(){return(new(Function.prototype.bind.apply(e.async?AsyncFunction?AsyncFunction:_throw(new Error("Async Functions not supported in this browser")):Function,[null].concat(Object.values(e.var).concat([n]))))).apply(s,Object.keys(e.var).map(function(e){return c[e]}))})}else{eval.call(null,n);t=Promise.resolve()}return t.then(function(){return!Object.getOwnPropertyNames(a.exports).length&&!Object.getOwnPropertySymbols(a.exports).length?undefined:a.exports})})})},script:function e(t){return load(t,"Couldn't load the script.","text").then(legume.process)},style:function e(t){var r=document.createElement("link");r.href=processurl(t);document.head.append(r);r.rel="stylesheet"},json:function e(t){return load(t,"Couldn't load JSON.","json").then(function(e){return e.res})},text:function e(t){return load(t,"Couldn't load text.").then(function(e){return e.res})}};window.Legume=legume;if(entry)legume.load(entry);function parse(e,t){var r=false,n={cmt:/^(\s*\/\/\s*)/,multi:{start:/^(\s*\/\*\s*@legume\s*)/i,end:/^\s*\*\//},single:{start:/\s*@legume\s*/,match:/\s*@[^@]*/g}},s={name:"",version:"",description:"",repository:"",author:[],email:"",url:"",license:"",script:[],style:[],var:[],async:false},l={},a=[],o=[],c=false,i=function(e){var t=e.trim().match(/@([^\s]+)(?:\s+(.*))?$/);if(t){var r=t[1],n=t[2];if(r!==undefined){if(Array.isArray(s[r])){l[r]=l[r]||[];l[r].push(n)}else if(typeof s[r]=="boolean"){try{l[r]=JSON.parse(n)}catch(e){l[r]=true}}else{l[r]=n}}else{console.warn("ignoring invalid metadata option: `"+r+"}`")}}};e.match(/[^\r\n]+/g).forEach(function(e,t,s){if(n.cmt.test(e)){var l=e.replace(n.cmt,"").trim();if(n.single.start.test(l)){l.replace(n.single.start,"");for(var u=n.single.match.exec(l);u;u=n.single.match.exec(l)){i(u[0])}}}else if(n.multi.end.test(e)&&r){r=false}else if(r){i(e)}else if(n.multi.start.test(e)){r=true;c=true}else{a.push(e)}if(r&&t+1==s.length){o.push("missing metdata block closing")}});return{metadata:Object.assign(l,t),code:a.join("\n"),errors:o.length?o:null,legumescript:c}}var entryScript=entry.dataset.legumeEntry;if(entryScript){Legume.script(entryScript)}};(function(){var e="https://polyfill.io/v2/polyfill.min.js?features=default-3.6,fetch,Element.prototype.dataset,Object.values&callback=legumeload";var t=document.createElement("script");t.src=e;document.getElementsByTagName("head")[0].appendChild(t)})();